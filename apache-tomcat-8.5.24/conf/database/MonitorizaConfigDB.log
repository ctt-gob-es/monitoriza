/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C3*/SET SCHEMA PUBLIC
-- ********************************************************\u000a-- **************** Creaci\u00f3n de Tablas ********************\u000a-- ********************************************************\u000a\u000a-- ****************** TABLAS DE CONFIGURACI\u00d3N *****************\u000a\u000a-- Table USER_MONITORIZA\u000aCREATE TABLE "USER_MONITORIZA"(\u000a  "ID_USER_MONITORIZA" NUMERIC(19) NOT NULL,\u000a  "LOGIN" VARCHAR(100) NOT NULL,\u000a  "PASSWORD" VARCHAR(150) NOT NULL,\u000a  "NAME" VARCHAR(100) NOT NULL,\u000a  "SURNAMES" VARCHAR(150) NOT NULL,\u000a  "EMAIL" VARCHAR(150) NOT NULL,\u000a  "IS_BLOCKED" CHAR(1) NOT NULL,\u000a  "ATTEMPTS_NUMBER" INTEGER NOT NULL,\u000a  "LAST_ACCESS" TIMESTAMP,\u000a  "IP_LAST_ACCESS" VARCHAR(15)\u000a)
ALTER TABLE "USER_MONITORIZA" ADD CONSTRAINT "ID_USER_MONITORIZA" PRIMARY KEY ("ID_USER_MONITORIZA")
ALTER TABLE "USER_MONITORIZA" ADD CONSTRAINT "USER_UNIQUE_LOGIN" UNIQUE ("LOGIN")
COMMENT ON TABLE "USER_MONITORIZA" IS 'Tabla que almacena toda la informaci\u00f3n relativa a usuarios del sistema.'
COMMENT ON COLUMN "USER_MONITORIZA"."ID_USER_MONITORIZA" IS 'Identificador de la tabla.'
COMMENT ON COLUMN "USER_MONITORIZA"."LOGIN" IS 'Valor que representa el nombre de acceso a la plataforma.'
COMMENT ON COLUMN "USER_MONITORIZA"."PASSWORD" IS 'Valor que representa el hash de la contrase\u00f1a de acceso a la plataforma.'
COMMENT ON COLUMN "USER_MONITORIZA"."NAME" IS 'Valor que representa el nombre del usuario.'
COMMENT ON COLUMN "USER_MONITORIZA"."SURNAMES" IS 'Valor que representa los apellidos del usuario.'
COMMENT ON COLUMN "USER_MONITORIZA"."EMAIL" IS 'Valor que representa el e-mail del usuario.'
COMMENT ON COLUMN "USER_MONITORIZA"."IS_BLOCKED" IS 'Valor que indica si el usuario est\u00e1 bloqueado (Y) o no (N).'
COMMENT ON COLUMN "USER_MONITORIZA"."ATTEMPTS_NUMBER" IS 'Valor que representa el n\u00famero de intentos fallidos de acceso a la plataforma que lleva acumulados el usuario desde la \u00faltima vez que accedi\u00f3 correctamente.'
COMMENT ON COLUMN "USER_MONITORIZA"."LAST_ACCESS" IS 'Valor que representa la fecha del \u00faltimo acceso del usuario a la plataforma.'
COMMENT ON COLUMN "USER_MONITORIZA"."IP_LAST_ACCESS" IS 'Valor que representa la direcci\u00f3n IP desde la que accedi\u00f3 el usuario por \u00faltima vez.'
-- Table TIMER_MONITORIZA\u000aCREATE TABLE "TIMER_MONITORIZA"(\u000a\u0009"ID_TIMER" NUMERIC(19) NOT NULL,\u000a\u0009"NAME" VARCHAR(100) NOT NULL,\u000a\u0009"FREQUENCY" NUMERIC(19,0) NOT NULL\u000a)
ALTER TABLE "TIMER_MONITORIZA" ADD CONSTRAINT "ID_TIMER" PRIMARY KEY ("ID_TIMER")
ALTER TABLE "TIMER_MONITORIZA" ADD CONSTRAINT "TIMER_NAME_UNIQUE" UNIQUE ("NAME")
COMMENT ON TABLE "TIMER_MONITORIZA" IS 'Tabla que almacena la informaci\u00f3n relativa a los timers que determinan la frecuencia de ejecuci\u00f3n de las peticiones a servicios de @Firma y TS@.'
COMMENT ON COLUMN "TIMER_MONITORIZA"."ID_TIMER" IS 'Identificador de la tabla.'
COMMENT ON COLUMN "TIMER_MONITORIZA"."NAME" IS 'Valor que representa el nombre \u00fanico del timer.'
COMMENT ON COLUMN "TIMER_MONITORIZA"."FREQUENCY" IS 'Valor que representa el valor en milisegundos de la frecuencia de ejecuci\u00f3n de las peticiones asociadas al timer.'
-- Table KEYSTORE\u000aCREATE TABLE "KEYSTORE"(\u000a  "ID_KEYSTORE" NUMERIC(19) NOT NULL,\u000a  "NAME" VARCHAR(50) NOT NULL,\u000a  "KEYSTORE" BLOB,\u000a  "TOKEN_NAME" VARCHAR(30) NOT NULL,\u000a  "PASSWORD" VARCHAR(255) NOT NULL,\u000a  "KEYSTORE_TYPE" VARCHAR(50) NOT NULL\u000a)
ALTER TABLE "KEYSTORE" ADD CONSTRAINT "ID_KEYSTORE" PRIMARY KEY ("ID_KEYSTORE")
ALTER TABLE "KEYSTORE" ADD CONSTRAINT "KEYSTORE_UNIQUE_NAME" UNIQUE ("NAME")
COMMENT ON TABLE "KEYSTORE" IS 'Tabla que almacena toda la informaci\u00f3n relativa a almacenes de certificados.'
COMMENT ON COLUMN "KEYSTORE"."ID_KEYSTORE" IS 'Identificador de la tabla.'
COMMENT ON COLUMN "KEYSTORE"."NAME" IS 'Valor que representa el nombre del almac\u00e9n de claves.'
COMMENT ON COLUMN "KEYSTORE"."KEYSTORE" IS 'Valor que representa el almac\u00e9n de claves como archivo f\u00edsico.'
COMMENT ON COLUMN "KEYSTORE"."TOKEN_NAME" IS 'Valor que representa el token con la descripci\u00f3n almacenada en cada archivo de propiedades por idioma.'
COMMENT ON COLUMN "KEYSTORE"."PASSWORD" IS 'Valor que representa la contrase\u00f1a de acceso al almac\u00e9n de claves.'
COMMENT ON COLUMN "KEYSTORE"."KEYSTORE_TYPE" IS 'Valor que representa el tipo del almac\u00e9n de claves.'
CREATE TABLE "C_STATUS_CERTIFICATES"(\u000a \u0009"ID_STATUS_CERTIFICATE" NUMERIC(19) NOT NULL, \u000a\u0009"TOKEN_NAME" VARCHAR(30) NOT NULL)
ALTER TABLE "C_STATUS_CERTIFICATES" ADD CONSTRAINT "ID_STATUS_CERTIFICATE" PRIMARY KEY ("ID_STATUS_CERTIFICATE")
COMMENT ON TABLE "C_STATUS_CERTIFICATES"  IS 'Tabla que almacena las constantes para los estados de los certificados.'
COMMENT ON COLUMN "C_STATUS_CERTIFICATES"."ID_STATUS_CERTIFICATE" IS 'Identificador de la tabla.'
COMMENT ON COLUMN "C_STATUS_CERTIFICATES"."TOKEN_NAME" IS 'Valor que representa la descripci\u00f3n del estado del certificado.'
-- Table SYSTEM_CERTIFICATE\u000aCREATE TABLE "SYSTEM_CERTIFICATE"(\u000a  "ID_SYSTEM_CERTIFICATE" NUMERIC(19) NOT NULL,\u000a  "ALIAS" VARCHAR(4000) NOT NULL,\u000a  "ID_KEYSTORE" NUMERIC(19) NOT NULL,\u000a  "IS_KEY" CHAR(1) NOT NULL,\u000a  "ISSUER" VARCHAR(4000) NOT NULL,\u000a  "SUBJECT" VARCHAR(4000) NOT NULL,\u000a  "SERIAL_NUMBER" NUMERIC(100) NOT NULL,\u000a  "ID_STATUS_CERTIFICATE" NUMERIC(19) NOT NULL,\u000a  "ID_USER_MONITORIZA" NUMERIC(19)\u000a)
ALTER TABLE "SYSTEM_CERTIFICATE" ADD CONSTRAINT "ID_SYSTEM_CERTIFICATE" PRIMARY KEY ("ID_SYSTEM_CERTIFICATE")
ALTER TABLE "SYSTEM_CERTIFICATE" ADD CONSTRAINT "ID_STATUS_CERTIFICATE_FK" FOREIGN KEY ("ID_STATUS_CERTIFICATE") REFERENCES "C_STATUS_CERTIFICATES" ("ID_STATUS_CERTIFICATE")
ALTER TABLE "SYSTEM_CERTIFICATE" ADD CONSTRAINT "ID_USER_MONITORIZA_FK" FOREIGN KEY ("ID_USER_MONITORIZA") REFERENCES "USER_MONITORIZA" ("ID_USER_MONITORIZA")
COMMENT ON TABLE "SYSTEM_CERTIFICATE" IS 'Tabla que almacena toda la informaci\u00f3n relativa a certificados de uso por el sistema.'
COMMENT ON COLUMN "SYSTEM_CERTIFICATE"."ID_SYSTEM_CERTIFICATE" IS 'Identificador de la tabla.'
COMMENT ON COLUMN "SYSTEM_CERTIFICATE"."ALIAS" IS 'Valor que representa el alias del certificado.'
COMMENT ON COLUMN "SYSTEM_CERTIFICATE"."ID_KEYSTORE" IS 'Valor que representa el almac\u00e9n de claves donde se encuentra almacenado el certificado.'
COMMENT ON COLUMN "SYSTEM_CERTIFICATE"."IS_KEY" IS 'Valor que indica si el alias hace referencia a una clave (Y) o no (N).'
COMMENT ON COLUMN "SYSTEM_CERTIFICATE"."ISSUER" IS 'Valor que representa el emisor del certificado.'
COMMENT ON COLUMN "SYSTEM_CERTIFICATE"."SUBJECT" IS 'Valor que representa el asunto del certificado.'
COMMENT ON COLUMN "SYSTEM_CERTIFICATE"."SERIAL_NUMBER" IS 'Valor que representa el serial number del certificado.'
COMMENT ON COLUMN "SYSTEM_CERTIFICATE"."ID_STATUS_CERTIFICATE" IS 'Valor que representa el estado del certificado.'
COMMENT ON COLUMN "SYSTEM_CERTIFICATE"."ID_USER_MONITORIZA" IS 'Valor que representa el ususario.'
-- Table C_PLATFORM_TYPE\u000aCREATE TABLE "C_PLATFORM_TYPE" ( \u000a\u0009"ID_PLATFORM_TYPE" NUMERIC(19) NOT NULL,\u000a\u0009"NAME" VARCHAR(100) NOT NULL\u000a)
ALTER TABLE "C_PLATFORM_TYPE" ADD CONSTRAINT "ID_PLATFORM_TYPE" PRIMARY KEY ("ID_PLATFORM_TYPE")
COMMENT ON TABLE "C_PLATFORM_TYPE" IS 'Tabla que almacena los tipos de plataformas en Monitoriz@: @Firma o TS@.'
-- Table PLATFORM_MONITORIZA\u000aCREATE TABLE "PLATFORM_MONITORIZA" ( \u000a\u0009"ID_PLATFORM" NUMERIC(19) NOT NULL,\u000a\u0009"NAME" VARCHAR(100) NOT NULL,\u000a\u0009"HOST" VARCHAR(100) NOT NULL,\u000a\u0009"PORT" VARCHAR(10) NOT NULL,\u000a\u0009"IS_SECURE" CHAR(1) NOT NULL,\u000a\u0009"HTTPS_PORT" VARCHAR(10),\u000a\u0009"SERVICE_CONTEXT" VARCHAR(100) NOT NULL,\u000a\u0009"ID_PLATFORM_TYPE" NUMERIC(19) NOT NULL,\u000a\u0009"OCSP_CONTEXT" VARCHAR(100),\u000a\u0009"RFC3161_CONTEXT" VARCHAR(100),\u000a\u0009"RFC3161_PORT" NUMERIC(10),\u000a\u0009"RFC3161_USE_AUTH" CHAR(1),\u000a\u0009"RFC3161_AUTH_CERTIFICATE" NUMERIC(19)\u000a\u0009)
ALTER TABLE "PLATFORM_MONITORIZA" ADD CONSTRAINT "ID_PLATFORM_CONS" PRIMARY KEY ("ID_PLATFORM")
ALTER TABLE "PLATFORM_MONITORIZA" ADD CONSTRAINT "PLATFORM_NAME_UNIQUE" UNIQUE ("NAME")
COMMENT ON TABLE "PLATFORM_MONITORIZA" IS 'Tabla que almacena la informaci\u00f3n relativa a la conexi\u00f3n con plataformas @Firma/TS@.'
COMMENT ON COLUMN "PLATFORM_MONITORIZA"."ID_PLATFORM" IS 'Identificador de la tabla.'
COMMENT ON COLUMN "PLATFORM_MONITORIZA"."NAME" IS 'Valor que representa el nombre \u00fanico de la plataforma.'
COMMENT ON COLUMN "PLATFORM_MONITORIZA"."HOST" IS 'Valor que representa el host para la conexi\u00f3n con la plataforma.'
COMMENT ON COLUMN "PLATFORM_MONITORIZA"."PORT" IS 'Valor que representa el puerto para la conexi\u00f3n con la plataforma.'
COMMENT ON COLUMN "PLATFORM_MONITORIZA"."SERVICE_CONTEXT" IS 'Valor que representa la parte de la ruta de acceso a los servicios web SOAP.'
COMMENT ON COLUMN "PLATFORM_MONITORIZA"."OCSP_CONTEXT" IS 'Valor que representa la parte de la ruta de acceso al servicio OCSP.'
COMMENT ON COLUMN "PLATFORM_MONITORIZA"."RFC3161_CONTEXT" IS 'Valor que representa la parte de la ruta de acceso al servicio RFC3161.'
COMMENT ON COLUMN "PLATFORM_MONITORIZA"."RFC3161_PORT" IS 'Valor que representa el puerto de acceso al servicio RFC3161.'
COMMENT ON COLUMN "PLATFORM_MONITORIZA"."RFC3161_AUTH_CERTIFICATE" IS 'Valor que representa el identificador del certificado para la conexi\u00f3n autenticada con el servicio RFC3161.'
-- Table ALARM_MONITORIZA\u000aCREATE TABLE "ALARM_MONITORIZA" (\u000a\u0009"ID_ALARM" NUMERIC(19) NOT NULL,\u000a\u0009"NAME" VARCHAR(100) NOT NULL,\u000a\u0009"BLOCKED_TIME" NUMERIC(19) NOT NULL\u000a)
ALTER TABLE "ALARM_MONITORIZA" ADD CONSTRAINT "ID_ALARM" PRIMARY KEY ("ID_ALARM")
ALTER TABLE "ALARM_MONITORIZA" ADD CONSTRAINT "ALARM_NAME_UNIQUE" UNIQUE ("NAME")
COMMENT ON TABLE "ALARM_MONITORIZA" IS 'Tabla que almacena la informaci\u00f3n relativa a las alarmas de monitoriz@.'
COMMENT ON COLUMN "ALARM_MONITORIZA"."ID_ALARM" IS 'Identificador de la tabla.'
COMMENT ON COLUMN "ALARM_MONITORIZA"."NAME" IS 'Valor que representa el nombre \u00fanico de la alarma.'
COMMENT ON COLUMN "ALARM_MONITORIZA"."BLOCKED_TIME" IS 'Valor que representa el tiempo en milisegundos que se bloquean las alarmas de este tipo antes de lanzar un resumen.'
-- Table SERVICE_MONITORIZA\u000aCREATE TABLE "SERVICE_MONITORIZA" (\u000a\u0009"ID_SERVICE" NUMERIC(19) NOT NULL,\u000a\u0009"NAME" VARCHAR(100) NOT NULL,\u000a\u0009"SERVICE_TIMEOUT" NUMERIC(19) NOT NULL,\u000a\u0009"NAME_ENDPOINT_WSDL" VARCHAR(100) NOT NULL,\u000a\u0009"DEGRADED_THRESHOLD" NUMERIC(19) NOT NULL,\u000a\u0009"LOST_THRESHOLD" NUMERIC(19) NOT NULL,\u000a\u0009"ID_TIMER_SERVICE" NUMERIC(19) NOT NULL,\u000a\u0009"ID_ALARM_SERVICE" NUMERIC(19) NOT NULL,\u000a\u0009"ID_PLATFORM_SERVICE" NUMERIC(19),\u000a\u0009"SERVICE_TYPE" VARCHAR(100) NOT NULL\u000a)
ALTER TABLE "SERVICE_MONITORIZA" ADD CONSTRAINT "ID_SERVICE" PRIMARY KEY ("ID_SERVICE")
ALTER TABLE "SERVICE_MONITORIZA" ADD CONSTRAINT "SERVICE_NAME_UNIQUE" UNIQUE ("NAME")
COMMENT ON TABLE "SERVICE_MONITORIZA" IS 'Tabla que almacena la informaci\u00f3n relativa a los servicios sobre los cuales van a realizarse peticiones para conocer su estado.'
COMMENT ON COLUMN "SERVICE_MONITORIZA"."ID_SERVICE" IS 'Identificador de la tabla.'
COMMENT ON COLUMN "SERVICE_MONITORIZA"."NAME" IS 'Valor que representa el nombre \u00fanico del servicio.'
COMMENT ON COLUMN "SERVICE_MONITORIZA"."SERVICE_TIMEOUT" IS 'Valor en milisegundos que representa el tiempo m\u00e1ximo que puede transcurrir sin respuesta para que el servicio se considere "ca\u00eddo".'
COMMENT ON COLUMN "SERVICE_MONITORIZA"."NAME_ENDPOINT_WSDL" IS 'Valor que representa la cadena de texto final del endpoint que hace referencia al servicio.'
COMMENT ON COLUMN "SERVICE_MONITORIZA"."DEGRADED_THRESHOLD" IS 'Valor que representa el tiempo m\u00e1ximo en milisegundos que pueden tardar de media las peticiones a este servicio antes de que sea considerado "degradado".'
COMMENT ON COLUMN "SERVICE_MONITORIZA"."LOST_THRESHOLD" IS 'Valor que representa el tiempo m\u00e1ximo en milisegundos que pueden tardar de media las peticiones a este servicio antes de que sea considerado "perdido".'
COMMENT ON COLUMN "SERVICE_MONITORIZA"."ID_TIMER_SERVICE" IS 'Identificador del timer asociad a este servicio.'
COMMENT ON COLUMN "SERVICE_MONITORIZA"."ID_ALARM_SERVICE" IS 'Identificador de la alarma asociada a este servicio.'
COMMENT ON COLUMN "SERVICE_MONITORIZA"."ID_PLATFORM_SERVICE" IS 'Identificador de la plataforma asociada a este servicio.'
COMMENT ON COLUMN "SERVICE_MONITORIZA"."SERVICE_TYPE" IS 'Tipo del servicio.'
-- Table C_PLATFORM_TYPE\u000a--CREATE TABLE "C_SERVICE_TYPE" ( \u000a--\u0009"ID_SERVICE_TYPE" NUMERIC(19) NOT NULL,\u000a--\u0009"NAME" VARCHAR(100) NOT NULL,\u000a--\u0009"ID_PLATFORM_TYPE" NUMERIC(19) NOT NULL,\u000a--);\u000a--ALTER TABLE "C_SERVICE_TYPE" ADD CONSTRAINT "ID_SERVICE_TYPE" PRIMARY KEY ("ID_SERVICE_TYPE");\u000a--COMMENT ON TABLE "C_SERVICE_TYPE" IS 'Tabla que almacena los tipos de plataforma en Monitoriz@: @Firma o TS@.';\u000a\u000a-- Table MAIL_MONITORIZA\u000aCREATE TABLE "MAIL_MONITORIZA" (\u000a\u0009"ID_MAIL" NUMERIC(19) NOT NULL,\u000a\u0009"EMAIL_ADDRESS" VARCHAR(150) NOT NULL\u000a)
ALTER TABLE "MAIL_MONITORIZA" ADD CONSTRAINT "ID_MAIL" PRIMARY KEY ("ID_MAIL")
ALTER TABLE "MAIL_MONITORIZA" ADD CONSTRAINT "MAIL_ADDRESS_UNIQUE" UNIQUE ("EMAIL_ADDRESS")
COMMENT ON TABLE "MAIL_MONITORIZA" IS 'Tabla que almacena las direcciones de correo electr\u00f3nico a utilizar por las alarmas de monitoriz@.'
COMMENT ON COLUMN "MAIL_MONITORIZA"."ID_MAIL" IS 'Identificador de la tabla.'
COMMENT ON COLUMN "MAIL_MONITORIZA"."EMAIL_ADDRESS" IS 'Valor que representa una direcci\u00f3n de correo electr\u00f3nico.'
-- Table R_ALARM_MAIL_DEGRADED\u000aCREATE TABLE "R_ALARM_MAIL_DEGRADED"(\u000a  "ID_MAIL" NUMERIC(19) NOT NULL, \u000a  "ID_ALARM" NUMERIC(19) NOT NULL \u000a)
ALTER TABLE "R_ALARM_MAIL_DEGRADED" ADD CONSTRAINT "R_ALARM_MAIL_DEGRADED" FOREIGN KEY ("ID_ALARM") REFERENCES "ALARM_MONITORIZA" ("ID_ALARM")
ALTER TABLE "R_ALARM_MAIL_DEGRADED" ADD CONSTRAINT "R_MAIL_ALARM_DEGRADED" FOREIGN KEY ("ID_MAIL") REFERENCES "MAIL_MONITORIZA" ("ID_MAIL")
COMMENT ON COLUMN "R_ALARM_MAIL_DEGRADED"."ID_ALARM" IS 'Identificador de la alarma.'
COMMENT ON COLUMN "R_ALARM_MAIL_DEGRADED"."ID_MAIL" IS 'Identificador de la direcci\u00f3n de correo electr\u00f3nico.'
-- Table R_ALARM_MAIL_DOWN\u000aCREATE TABLE "R_ALARM_MAIL_DOWN"(\u000a  "ID_MAIL" NUMERIC(19) NOT NULL, \u000a  "ID_ALARM" NUMERIC(19) NOT NULL \u000a)
ALTER TABLE "R_ALARM_MAIL_DOWN" ADD CONSTRAINT "R_ALARM_MAIL_DOWN" FOREIGN KEY ("ID_ALARM") REFERENCES "ALARM_MONITORIZA" ("ID_ALARM")
ALTER TABLE "R_ALARM_MAIL_DOWN" ADD CONSTRAINT "R_MAIL_ALARM_DOWN" FOREIGN KEY ("ID_MAIL") REFERENCES "MAIL_MONITORIZA" ("ID_MAIL")
COMMENT ON COLUMN "R_ALARM_MAIL_DOWN"."ID_ALARM" IS 'Identificador de la alarma.'
COMMENT ON COLUMN "R_ALARM_MAIL_DOWN"."ID_MAIL" IS 'Identificador de la direcci\u00f3n de correo electr\u00f3nico.'
ALTER TABLE "SERVICE_MONITORIZA" ADD CONSTRAINT "R_TIMER_SERVICE" FOREIGN KEY ("ID_TIMER_SERVICE") REFERENCES "TIMER_MONITORIZA" ("ID_TIMER")
ALTER TABLE "SERVICE_MONITORIZA" ADD CONSTRAINT "R_ALARM_SERVICE" FOREIGN KEY ("ID_ALARM_SERVICE") REFERENCES "ALARM_MONITORIZA" ("ID_ALARM")
ALTER TABLE "SERVICE_MONITORIZA" ADD CONSTRAINT "R_PLATFORM_SERVICE" FOREIGN KEY ("ID_PLATFORM_SERVICE") REFERENCES "PLATFORM_MONITORIZA" ("ID_PLATFORM")
ALTER TABLE "PLATFORM_MONITORIZA" ADD CONSTRAINT "ID_PLATFORM_TYPE_FK" FOREIGN KEY ("ID_PLATFORM_TYPE") REFERENCES "C_PLATFORM_TYPE" ("ID_PLATFORM_TYPE")
ALTER TABLE "PLATFORM_MONITORIZA" ADD CONSTRAINT "ID_SYSTEM_CERTIFICATE_FK" FOREIGN KEY ("RFC3161_AUTH_CERTIFICATE") REFERENCES "SYSTEM_CERTIFICATE" ("ID_SYSTEM_CERTIFICATE")
ALTER TABLE "SYSTEM_CERTIFICATE" ADD CONSTRAINT "R_SC_K" FOREIGN KEY ("ID_KEYSTORE") REFERENCES "KEYSTORE" ("ID_KEYSTORE")
-- ********************************************************\u000a-- ************** Creaci\u00f3n de Secuencias ******************\u000a-- ********************************************************\u000a\u000a-- Secuencia necesaria para la clave de la tabla USER_MONITORIZA.\u000aCREATE SEQUENCE SQ_USER_MONITORIZA AS NUMERIC(19)\u000a  START WITH 2 INCREMENT BY 1 MINVALUE 1 NO MAXVALUE NO CYCLE
-- Secuencia necesaria para la clave de la tabla ALARM_MONITORIZA.\u000aCREATE SEQUENCE SQ_ALARM_MONITORIZA AS NUMERIC(19)\u000a  START WITH 1 INCREMENT BY 1 MINVALUE 1 NO MAXVALUE NO CYCLE
-- Secuencia necesaria para la clave de la tabla MAIL_MONITORIZA.\u000aCREATE SEQUENCE SQ_MAIL_MONITORIZA AS NUMERIC(19)\u000a  START WITH 1 INCREMENT BY 1 MINVALUE 1 NO MAXVALUE NO CYCLE
-- Secuencia necesaria para la clave de la tabla PLATFORM_AFIRMA.\u000aCREATE SEQUENCE SQ_PLATFORM_MONITORIZA AS NUMERIC(19)\u000a  START WITH 1 INCREMENT BY 1 MINVALUE 1 NO MAXVALUE NO CYCLE
-- Secuencia necesaria para la clave de la tabla SERVICE_MONITORIZA.\u000aCREATE SEQUENCE SQ_SERVICE_MONITORIZA AS NUMERIC(19)\u000a  START WITH 1 INCREMENT BY 1 MINVALUE 1 NO MAXVALUE NO CYCLE
-- Secuencia necesaria para la clave de la tabla TIMER_MONITORIZA.\u000aCREATE SEQUENCE SQ_TIMER_MONITORIZA AS NUMERIC(19)\u000a  START WITH 1 INCREMENT BY 1 MINVALUE 1 NO MAXVALUE NO CYCLE
-- Secuencia necesaria para la clave de la tabla TIMER_MONITORIZA.\u000aCREATE SEQUENCE SQ_R_ALARM_MAIL AS NUMERIC(19)\u000a  START WITH 1 INCREMENT BY 1 MINVALUE 1 NO MAXVALUE NO CYCLE
-- Secuencia necesaria para la clave de la tabla CERTIFICATES\u000aCREATE SEQUENCE SQ_CERTIFICATES AS NUMERIC(19)\u000a  START WITH 1 INCREMENT BY 1 MINVALUE 1 NO MAXVALUE NO CYCLE
-- Secuencia necesaria para la clave de la tabla SYSTEM_CERTIFICATE.\u000aCREATE SEQUENCE SQ_SYSTEM_CERTIFICATE AS NUMERIC(19)\u000a  START WITH 1 INCREMENT BY 1 MINVALUE 1 NO MAXVALUE NO CYCLE
-- Secuencia necesaria para la clave de la tabla R_ALARM_MAIL_DEGRADED.\u000aCREATE SEQUENCE SQ_R_ALARM_MAIL_DEGRADED AS NUMERIC(19)\u000a  START WITH 1 INCREMENT BY 1 MINVALUE 1 NO MAXVALUE NO CYCLE
-- Secuencia necesaria para la clave de la tabla R_ALARM_MAIL_DOWN.\u000aCREATE SEQUENCE SQ_R_ALARM_MAIL_DOWN AS NUMERIC(19)\u000a  START WITH 1 INCREMENT BY 1 MINVALUE 1 NO MAXVALUE NO CYCLE
-- Secuencia necesaria para la clave de la tabla C_STATUS_CERTIFICATES.\u000aCREATE SEQUENCE SQ_C_STATUS_CERTIFICATES AS NUMERIC(19)\u000a  START WITH 1 INCREMENT BY 1 MINVALUE 1 NO MAXVALUE NO CYCLE
INSERT INTO "USER_MONITORIZA" VALUES(1,'admin','$2a$04$THxVTEMMIVxHUxwjm9gKjetbxvPX/H9r54HtukxBTMcAXSrgDzCGK','admin','admin','admin@admin.com','N',0,NULL,NULL)
COMMIT
INSERT INTO "C_PLATFORM_TYPE" VALUES(1,'@Firma')
COMMIT
INSERT INTO "C_PLATFORM_TYPE" VALUES(2,'TS@')
COMMIT
/*C1*/INSERT INTO LOB_IDS VALUES(1,32,0,30)
ALTER SEQUENCE SYSTEM_LOBS.LOB_ID RESTART WITH 2
COMMIT
DELETE FROM BLOCKS WHERE BLOCK_ADDR=0
INSERT INTO BLOCKS VALUES(0,1,0)
INSERT INTO BLOCKS VALUES(1,2147483646,0)
DELETE FROM BLOCKS WHERE BLOCK_ADDR=0
INSERT INTO LOBS VALUES(0,1,0,1)
COMMIT
/*C3*/INSERT INTO "KEYSTORE" VALUES(1,'TrustStoreSSL',1,'KEYSTORE01','UH2rpWNDX+RLltMuyFPirQ==','JCEKS')
SET SCHEMA SYSTEM_LOBS
DELETE FROM LOB_IDS WHERE LOB_ID=1
INSERT INTO LOB_IDS VALUES(1,32,1,30)
COMMIT
/*C1*/INSERT INTO LOB_IDS VALUES(2,32,0,30)
ALTER SEQUENCE SYSTEM_LOBS.LOB_ID RESTART WITH 3
COMMIT
DELETE FROM BLOCKS WHERE BLOCK_ADDR=1
INSERT INTO BLOCKS VALUES(1,1,0)
INSERT INTO BLOCKS VALUES(2,2147483645,0)
DELETE FROM BLOCKS WHERE BLOCK_ADDR=1
INSERT INTO LOBS VALUES(1,1,0,2)
COMMIT
/*C3*/SET SCHEMA PUBLIC
INSERT INTO "KEYSTORE" VALUES(2,'AuthClientRFC3161',2,'KEYSTORE02','UH2rpWNDX+RLltMuyFPirQ==','JCEKS')
SET SCHEMA SYSTEM_LOBS
DELETE FROM LOB_IDS WHERE LOB_ID=2
INSERT INTO LOB_IDS VALUES(2,32,1,30)
COMMIT
/*C1*/INSERT INTO LOB_IDS VALUES(3,32,0,30)
ALTER SEQUENCE SYSTEM_LOBS.LOB_ID RESTART WITH 4
COMMIT
DELETE FROM BLOCKS WHERE BLOCK_ADDR=2
INSERT INTO BLOCKS VALUES(2,1,0)
INSERT INTO BLOCKS VALUES(3,2147483644,0)
DELETE FROM BLOCKS WHERE BLOCK_ADDR=2
INSERT INTO LOBS VALUES(2,1,0,3)
COMMIT
/*C3*/SET SCHEMA PUBLIC
INSERT INTO "KEYSTORE" VALUES(3,'UserStore',3,'KEYSTORE03','UH2rpWNDX+RLltMuyFPirQ==','JCEKS')
SET SCHEMA SYSTEM_LOBS
DELETE FROM LOB_IDS WHERE LOB_ID=3
INSERT INTO LOB_IDS VALUES(3,32,1,30)
COMMIT
SET SCHEMA PUBLIC
INSERT INTO "C_STATUS_CERTIFICATES" VALUES(1,'V\u00e1lido')
COMMIT
INSERT INTO "C_STATUS_CERTIFICATES" VALUES(2,'Caducado')
COMMIT
INSERT INTO "C_STATUS_CERTIFICATES" VALUES(3,'Revocado')
COMMIT
INSERT INTO "C_STATUS_CERTIFICATES" VALUES(4,'Desconocido')
COMMIT
INSERT INTO "C_STATUS_CERTIFICATES" VALUES(5,'A\u00fan no v\u00e1lido')
COMMIT
INSERT INTO "C_STATUS_CERTIFICATES" VALUES(6,'No v\u00e1lido')
COMMIT
